# Phase 5 - Redis HA (Bitnami Redis, master + replica)
# DÃ¹ng: helm upgrade -i redis bitnami/redis -n redis -f values-redis-ha.yaml

architecture: replication

auth:
  enabled: true
  password: "*******"

####################
# MASTER
####################
master:
  persistence:
    enabled: true
    size: 20Gi
    storageClass: nfs-client

  podAntiAffinityPreset: soft

####################
# REPLICA
####################
replica:
  replicaCount: 3

  persistence:
    enabled: true
    size: 20Gi
    storageClass: nfs-client

  podAntiAffinityPreset: soft

####################
# SENTINEL
####################
sentinel:
  enabled: true
  replicas: 3

# Connection string cho app:
# redis://redis-master.redis.svc.cluster.local:6379/0
